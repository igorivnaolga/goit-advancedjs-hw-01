{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-feedback.js"],"sourcesContent":["import throttle from 'lodash.throttle';\n\nconst feedbackForm = document.querySelector('.feedback-form');\nconst email = document.querySelector('input');\nconst message = document.querySelector('textarea');\n\nfeedbackForm.addEventListener('input', throttle(handlerInput, 500));\nfeedbackForm.addEventListener('submit', handlerSubmit);\n\nconst data = JSON.parse(localStorage.getItem('feedback-form-state'));\nlet feedbackFormState = data || {};\n\nfillForm();\n\nfunction handlerInput({ target }) {\n  feedbackFormState[target.name] = target.value.trim();\n\n  localStorage.setItem(\n    'feedback-form-state',\n    JSON.stringify(feedbackFormState)\n  );\n}\n\nfunction fillForm() {\n  if (data) {\n    email.value = data.email || '';\n    message.value = data.message || '';\n  }\n}\n\nfunction handlerSubmit(event) {\n  event.preventDefault();\n  if (email.value === '' || message.value === '') {\n    return alert('All fields should be completed');\n  }\n  console.log(feedbackFormState);\n  localStorage.removeItem('feedback-form-state');\n  feedbackForm.reset();\n  feedbackFormState = {};\n}\n"],"names":["feedbackForm","email","message","throttle","handlerInput","handlerSubmit","data","feedbackFormState","fillForm","target","event"],"mappings":"wIAEA,MAAMA,EAAe,SAAS,cAAc,gBAAgB,EACtDC,EAAQ,SAAS,cAAc,OAAO,EACtCC,EAAU,SAAS,cAAc,UAAU,EAEjDF,EAAa,iBAAiB,QAASG,EAASC,EAAc,GAAG,CAAC,EAClEJ,EAAa,iBAAiB,SAAUK,CAAa,EAErD,MAAMC,EAAO,KAAK,MAAM,aAAa,QAAQ,qBAAqB,CAAC,EACnE,IAAIC,EAAoBD,GAAQ,GAEhCE,IAEA,SAASJ,EAAa,CAAE,OAAAK,GAAU,CAChCF,EAAkBE,EAAO,MAAQA,EAAO,MAAM,OAE9C,aAAa,QACX,sBACA,KAAK,UAAUF,CAAiB,CACpC,CACA,CAEA,SAASC,GAAW,CACdF,IACFL,EAAM,MAAQK,EAAK,OAAS,GAC5BJ,EAAQ,MAAQI,EAAK,SAAW,GAEpC,CAEA,SAASD,EAAcK,EAAO,CAE5B,GADAA,EAAM,eAAc,EAChBT,EAAM,QAAU,IAAMC,EAAQ,QAAU,GAC1C,OAAO,MAAM,gCAAgC,EAE/C,QAAQ,IAAIK,CAAiB,EAC7B,aAAa,WAAW,qBAAqB,EAC7CP,EAAa,MAAK,EAClBO,EAAoB,CAAA,CACtB"}